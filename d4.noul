read() . lines
map (\x -> x[8:] split '|' map (_ search_all R"\d+" map int . set) apply && . len . (\x -> int(2 ^ (x - 1)))
    
)
. sum
